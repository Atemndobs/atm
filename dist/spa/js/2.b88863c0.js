(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"04b7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"constrain q-pa-md"},[a("div",{staticClass:"row q-col-gutter-lg"},[a("div",{staticClass:"col-12 col-sm-8"},[!t.loadingPosts&&t.posts.length?t._l(t.posts,(function(e,i){return a("q-card",{key:e.id,staticClass:"card-post q-mb-md",attrs:{bordered:"",flat:""}},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",[a("img",{attrs:{src:s("63d0")}})])],1),a("q-item-section",[a("q-item-label",{staticClass:"text-bold"}),a("q-item-label",{attrs:{caption:""}},[t._v("\n                    "+t._s(e.location)+"\n                  ")])],1)],1),a("q-separator"),a("q-img",{attrs:{src:e.imageUrl}}),a("q-card-section",[a("q-item-section",[a("q-item-label",{staticClass:"text-bold"}),a("q-item-label",{attrs:{caption:""}},[a("q-item",[a("q-item-section",[a("div",[t._v(t._s(e.caption))]),a("div",{staticClass:"text-caption text-grey"},[t._v(t._s(t._f("niceDate")(e.created_at)))])]),a("q-btn",{attrs:{rounded:"",dense:"",label:t.totalLikes},on:{click:function(s){return t.submitLike(e)}}},[a("q-icon",{attrs:{name:"eva-heart-outline",color:t.isLiked?"red":"","text-color":"black",size:"25px",rounded:""}})],1)],1),a("q-item",[a("q-btn",{attrs:{icon:"eva-message-circle-outline","text-color":"black",size:"18px",rounded:"",dense:""},on:{click:t.addComment}})],1)],1)],1)],1)],1)})):t.loadingPosts||t.posts.length?[a("div",{staticClass:"q-pa-md"},[a("q-card",[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-skeleton",{attrs:{type:"QAvatar",animation:"fade",size:"40"}})],1),a("q-item-section",[a("q-item-label",[a("q-skeleton",{attrs:{type:"text"}})],1),a("q-item-label",{attrs:{caption:""}},[a("q-skeleton",{attrs:{type:"text"}})],1)],1)],1),a("q-skeleton",{attrs:{height:"200px",square:""}}),a("q-card-actions",{staticClass:"q-gutter-md",attrs:{align:"right"}},[a("q-skeleton",{attrs:{type:"QBtn"}}),a("q-skeleton",{attrs:{type:"QBtn"}})],1)],1)],1)]:[a("h5",{staticClass:"text-center text-grey"},[t._v("\n            No POSTS HERE\n          ")])]],2),a("div",{staticClass:"col-4 large-screen-only"},[a("q-item",{staticClass:"fixed"},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{size:"48px"}},[a("img",{attrs:{src:s("63d0")}})])],1),a("q-item-section",[a("q-item-label",{staticClass:"text-bold"},[t._v("atem__ndobs")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                 "+t._s(this.$auth.user()?this.$auth.user().name:"Atemkeng")+"\n              ")])],1)],1)],1)])])},i=[],o=(s("26e9"),s("b178")),n=s("bc3a"),c=s.n(n),r={name:"Page",data:function(){return{posts:[],loadingPosts:!1,totalLikes:"",isLiked:!1}},filters:{niceDate:function(t){return o["c"].formatDate(t,"MMMM D h:mmA")}},methods:{getPosts:function(){var t=this;this.loadingPosts=!0,this.$axios.get("".concat("http://localhost:8000/api","/posts")).then((function(e){t.posts=e.data.data.reverse(),t.loadingPosts=!1})).catch((function(e){t.$q.dialog({title:"Error",message:"Oops something went wrong, pls contact Atem"}),t.loadingPosts=!1}))},submitLike:function(t){var e=this;if(!this.$auth.check())return this.$q.dialog({message:"You need to Login Before you can Like"}),this.$router.push("/login"),void console.log({Error:"You need to log in to react to a post"});var s=this.$auth.user().id,a="http://localhost:8000/api/posts/like/"+t.id,i={user_id:s,type:"Like",post:t};t.isLiked=!0,t.totalLikes=5,c.a.post(a,i).then((function(t){e.isLiked=!e.isLiked,e.totalLikes=t.data.totalLikes,console.log(t.data)})).catch((function(t){console.log(t)}))},addComment:function(){console.log("Post Comment")},startCounting:function(){var t=this;this.hndl=setInterval((function(){t.counter++}),1e3)},stopCounting:function(){clearInterval(this.hndl)}},created:function(){this.getPosts()}},l=r,d=(s("f4d2"),s("2877")),u=Object(d["a"])(l,a,i,!1,null,"c5313c24",null);e["default"]=u.exports},"63d0":function(t,e,s){t.exports=s.p+"img/avat_atem.79940818.png"},7789:function(t,e,s){},f4d2:function(t,e,s){"use strict";s("7789")}}]);